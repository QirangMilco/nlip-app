{
  "openapi": "3.0.1",
  "info": {
    "title": "nlip",
    "description": "",
    "version": "1.0.0"
  },
  "tags": [
    {
      "name": "认证"
    },
    {
      "name": "剪贴板"
    },
    {
      "name": "空间"
    },
    {
      "name": "Token"
    },
    {
      "name": "WebSocket"
    }
  ],
  "paths": {
    "/api/v1/nlip/auth/change-password": {
      "post": {
        "summary": "修改密码",
        "deprecated": false,
        "description": "修改当前用户的密码",
        "tags": [
          "认证"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/user.ChangePasswordRequest"
              },
              "example": ""
            }
          }
        },
        "responses": {
          "200": {
            "description": "密码修改成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 200,
                      "data": null,
                      "message": "密码修改成功"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "异常示例",
                    "value": {
                      "code": 400,
                      "data": null,
                      "message": "Oldpassword长度不能小于6"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 401,
                      "data": null,
                      "message": "未授权"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "旧密码错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "异常示例",
                    "value": {
                      "code": 403,
                      "data": null,
                      "message": "旧密码错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/api/v1/nlip/auth/login": {
      "post": {
        "summary": "用户登录",
        "deprecated": false,
        "description": "使用用户名和密码进行登录",
        "tags": [
          "认证"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/user.LoginRequest"
              },
              "example": ""
            }
          }
        },
        "responses": {
          "200": {
            "description": "登录成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "token": {
                          "type": "string"
                        },
                        "user": {
                          "$ref": "#/components/schemas/user.User"
                        },
                        "needChangePwd": {
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "token",
                        "user",
                        "needChangePwd"
                      ]
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 200,
                      "data": {
                        "token": "xxx",
                        "user": {
                          "id": "admin-user",
                          "username": "admin",
                          "isAdmin": true,
                          "needChangePwd": false,
                          "createdAt": "2025-01-26T10:01:57Z"
                        },
                        "needChangePwd": false
                      },
                      "message": "登录成功"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 400,
                      "data": null,
                      "message": "请求有误"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "用户名或密码错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 401,
                      "data": null,
                      "message": "没有权限"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "用户名或密码错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "异常示例",
                    "value": {
                      "code": 403,
                      "data": null,
                      "message": "用户名或密码错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/api/v1/nlip/auth/me": {
      "get": {
        "summary": "获取当前用户信息",
        "deprecated": false,
        "description": "获取当前登录用户的基本信息",
        "tags": [
          "认证"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "获取用户信息成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/user.GetCurrentUserResponse"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/api/v1/nlip/auth/register": {
      "post": {
        "summary": "用户注册",
        "deprecated": false,
        "description": "注册新用户",
        "tags": [
          "认证"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/user.RegisterRequest"
              },
              "example": ""
            }
          }
        },
        "responses": {
          "201": {
            "description": "注册成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "token": {
                          "type": "string"
                        },
                        "user": {
                          "$ref": "#/components/schemas/user.User"
                        },
                        "needChangePwd": {
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "token",
                        "user",
                        "needChangePwd"
                      ]
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 201,
                      "data": {
                        "token": "xxx",
                        "user": {
                          "id": "f5aa6487-dfbc-42e2-9d73-84998abf4be9",
                          "username": "o97fmn68",
                          "isAdmin": false,
                          "needChangePwd": false,
                          "createdAt": "0001-01-01T00:00:00Z"
                        },
                        "needChangePwd": false
                      },
                      "message": "注册成功"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 400,
                      "data": null,
                      "message": "请求参数错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "409": {
            "description": "用户名已存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 409,
                      "data": null,
                      "message": "用户名已存在"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/api/v1/nlip/auth/token-login": {
      "post": {
        "summary": "Token登录",
        "deprecated": false,
        "description": "使用预先生成的Token进行登录",
        "tags": [
          "认证"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/token.TokenLoginRequest"
              },
              "example": {
                "token": "7mz3cRf4G7Vht-BU4w_m7_Zwy3jPXOM1-i1OedzTXf0=",
                "username": "admin"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "登录成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "jwtToken": {
                          "type": "string"
                        },
                        "user": {
                          "$ref": "#/components/schemas/user.User"
                        }
                      },
                      "required": [
                        "jwtToken",
                        "user"
                      ]
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 200,
                      "data": {
                        "jwtToken": "xxxx",
                        "user": {
                          "id": "admin-user",
                          "username": "admin",
                          "isAdmin": true,
                          "needChangePwd": true,
                          "createdAt": "2025-02-08T16:01:49Z"
                        }
                      },
                      "message": "登录成功"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 400,
                      "data": null,
                      "message": "请求参数错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "Token无效或已过期",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 401,
                      "data": null,
                      "message": "Token无效或已过期"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/api/v1/nlip/spaces/{spaceId}/clips/list": {
      "get": {
        "summary": "获取Clip列表",
        "deprecated": false,
        "description": "获取当前空间的Clip列表",
        "tags": [
          "剪贴板"
        ],
        "parameters": [
          {
            "name": "spaceId",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "description": "状态"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "clips": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/clip.Clip"
                          },
                          "nullable": true
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "title": "",
                      "description": ""
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 401,
                      "data": null,
                      "message": "未授权"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/api/v1/nlip/spaces/{spaceId}/clips/last": {
      "get": {
        "summary": "获取最近Clip",
        "deprecated": false,
        "description": "获取当前空间最近修改的剪贴板",
        "tags": [
          "剪贴板"
        ],
        "parameters": [
          {
            "name": "spaceId",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "description": "状态"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "clip": {
                          "$ref": "#/components/schemas/clip.Clip"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "title": "",
                      "description": ""
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 401,
                      "data": null,
                      "message": "未授权"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/api/v1/nlip/spaces/{spaceId}/clips/upload": {
      "post": {
        "summary": "上传Clip",
        "deprecated": false,
        "description": "上传剪贴板内容",
        "tags": [
          "剪贴板"
        ],
        "parameters": [
          {
            "name": "spaceId",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/clip.UploadClipRequest"
              },
              "example": ""
            }
          }
        },
        "responses": {
          "200": {
            "description": "上传成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "clip": {
                          "$ref": "#/components/schemas/clip.Clip"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "title": "",
                      "description": ""
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 400,
                      "data": null,
                      "message": "请求有误"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 401,
                      "data": null,
                      "message": "未授权"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/api/v1/nlip/spaces/{spaceId}/clips/{clipId}": {
      "get": {
        "summary": "获取Clip详情",
        "deprecated": false,
        "description": "根据ID获取单个Clip的详细信息",
        "tags": [
          "剪贴板"
        ],
        "parameters": [
          {
            "name": "spaceId",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clipId",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "clip": {
                          "$ref": "#/components/schemas/clip.Clip"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "title": "",
                      "description": ""
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 401,
                      "data": null,
                      "message": "未授权"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "剪贴板内容不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 404,
                      "data": null,
                      "message": "剪贴板内容不存在"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      },
      "put": {
        "summary": "更新Clip",
        "deprecated": false,
        "description": "更新指定Clip的信息",
        "tags": [
          "剪贴板"
        ],
        "parameters": [
          {
            "name": "spaceId",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clipId",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/clip.UpdateClipRequest"
              },
              "example": ""
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "clip": {
                          "$ref": "#/components/schemas/clip.Clip"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "title": "",
                      "description": ""
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 400,
                      "data": null,
                      "message": "请求参数错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 401,
                      "data": null,
                      "message": "未授权"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "无权限修改",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 403,
                      "data": null,
                      "message": "无权限修改"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "剪贴板内容不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 404,
                      "data": null,
                      "message": "剪贴板内容不存在"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      },
      "delete": {
        "summary": "删除Clip",
        "deprecated": false,
        "description": "删除指定的Clip",
        "tags": [
          "剪贴板"
        ],
        "parameters": [
          {
            "name": "spaceId",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clipId",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 200,
                      "data": null,
                      "message": "删除成功"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 401,
                      "data": null,
                      "message": "未授权"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "无权限删除",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 403,
                      "data": null,
                      "message": "无权限删除"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "剪贴板内容不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 404,
                      "data": null,
                      "message": "剪贴板内容不存在"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/api/v1/nlip/spaces/list": {
      "get": {
        "summary": "获取空间列表",
        "deprecated": false,
        "description": "获取当前用户有权限访问的空间列表，包括自己创建的和协作的空间",
        "tags": [
          "空间"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "获取空间列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "spaces": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/space.Space"
                          }
                        }
                      },
                      "required": [
                        "spaces"
                      ]
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 200,
                      "data": {
                        "spaces": [
                          {
                            "id": "public-space",
                            "name": "公共空间",
                            "type": "public",
                            "ownerId": "system",
                            "maxItems": 20,
                            "retentionDays": 7,
                            "createdAt": "2025-01-26T10:01:57Z",
                            "updatedAt": "2025-01-26T10:01:57Z",
                            "collaborators": [],
                            "collaboratorsMap": null
                          }
                        ]
                      },
                      "message": "获取空间列表成功"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 401,
                      "data": null,
                      "message": "未授权"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/api/v1/nlip/spaces/create": {
      "post": {
        "summary": "创建新空间",
        "deprecated": false,
        "description": "创建一个新的空间，普通用户只能创建私有空间，管理员可以创建公共空间",
        "tags": [
          "空间"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/space.CreateSpaceRequest"
              },
              "example": ""
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建空间成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "space": {
                          "$ref": "#/components/schemas/space.Space"
                        }
                      },
                      "required": [
                        "space"
                      ]
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 201,
                      "data": {
                        "space": {
                          "id": "s_pcu4rcl3ytpq",
                          "name": "111",
                          "type": "private",
                          "ownerId": "admin-user",
                          "maxItems": 10,
                          "retentionDays": 7,
                          "createdAt": "2025-01-27T21:19:23.865408493+08:00",
                          "updatedAt": "2025-01-27T21:19:23.865408493+08:00",
                          "collaborators": [],
                          "collaboratorsMap": null
                        }
                      },
                      "message": "创建空间成功"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 400,
                      "data": null,
                      "message": "Type必须是以下值之一: public private"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "没有权限创建公共空间",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 403,
                      "data": null,
                      "message": "没有权限创建空间"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/api/v1/nlip/spaces/invite/accept": {
      "post": {
        "summary": "接受邀请",
        "deprecated": false,
        "description": "接受空间邀请并成为协作者",
        "tags": [
          "空间"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/space.AcceptInviteRequest"
              },
              "example": ""
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功加入空间",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 200,
                      "data": null,
                      "message": "成功加入空间"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "无效的请求数据或用户已加入空间",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 400,
                      "data": null,
                      "message": "无效的请求数据或用户已加入空间"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "空间所有者不能接受邀请",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 403,
                      "data": null,
                      "message": "不能接受邀请"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/api/v1/nlip/spaces/invite/verify": {
      "post": {
        "summary": "验证邀请令牌",
        "deprecated": false,
        "description": "验证邀请令牌的有效性，返回空间信息和邀请者信息",
        "tags": [
          "空间"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/space.ValidateInviteRequest"
              },
              "example": ""
            }
          }
        },
        "responses": {
          "200": {
            "description": "验证成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "inviterName": {
                          "type": "string"
                        },
                        "isCollaborator": {
                          "type": "boolean"
                        },
                        "permission": {
                          "type": "string"
                        },
                        "spaceId": {
                          "type": "string"
                        },
                        "spaceName": {
                          "type": "string"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "title": "",
                      "description": ""
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "无效的邀请链接或已过期",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 400,
                      "data": null,
                      "message": "无效的邀请链接或已过期"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/api/v1/nlip/spaces/{id}": {
      "put": {
        "summary": "更新空间",
        "deprecated": false,
        "description": "更新空间信息，普通用户只能更新自己拥有的私有空间，管理员可以更新所有空间",
        "tags": [
          "空间"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "",
            "required": true,
            "example": "",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/space.UpdateSpaceRequest"
              },
              "example": ""
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功，返回更新后的空间信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "collaborators": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/space.CollaboratorInfo"
                          },
                          "nullable": true
                        },
                        "collaboratorsMap": {
                          "type": "object",
                          "properties": {},
                          "additionalProperties": {
                            "type": "string"
                          },
                          "nullable": true
                        },
                        "createdAt": {
                          "type": "string"
                        },
                        "id": {
                          "type": "string"
                        },
                        "maxItems": {
                          "type": "integer"
                        },
                        "name": {
                          "type": "string"
                        },
                        "ownerId": {
                          "type": "string"
                        },
                        "retentionDays": {
                          "type": "integer"
                        },
                        "type": {
                          "description": "public 或 private",
                          "type": "string"
                        },
                        "updatedAt": {
                          "type": "string"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "title": "",
                      "description": ""
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 400,
                      "data": null,
                      "message": "请求参数错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "没有权限更新该空间",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 403,
                      "data": null,
                      "message": "没有权限更新该空间"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      },
      "delete": {
        "summary": "删除空间",
        "deprecated": false,
        "description": "删除空间及其所有内容，普通用户只能删除自己拥有的私有空间，管理员可以删除所有空间",
        "tags": [
          "空间"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "",
            "required": true,
            "example": "",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 200,
                      "data": null,
                      "message": "删除空间成功"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "没有权限删除该空间",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 403,
                      "data": null,
                      "message": "没有权限删除该空间"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/api/v1/nlip/spaces/{id}/collaborators": {
      "get": {
        "summary": "获取空间协作者列表",
        "deprecated": false,
        "description": "获取指定空间的协作者列表，公共空间不支持此功能",
        "tags": [
          "空间"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "",
            "required": true,
            "example": "",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取协作者列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "collaborators": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/space.CollaboratorInfo"
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "title": "",
                      "description": ""
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "公共空间不支持协作者功能",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 400,
                      "data": null,
                      "message": "不支持协作者功能"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      },
      "delete": {
        "summary": "删除协作者",
        "deprecated": false,
        "description": "从空间中删除协作者，只有空间所有者可以执行此操作",
        "tags": [
          "空间"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "",
            "required": true,
            "example": "",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/space.RemoveCollaboratorRequest"
              },
              "example": ""
            }
          }
        },
        "responses": {
          "200": {
            "description": "删除协作者成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 200,
                      "data": null,
                      "message": "删除协作者成功"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "协作者不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 400,
                      "data": null,
                      "message": "请求有误"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "没有权限删除协作者",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 403,
                      "data": null,
                      "message": "没有权限删除协作者"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/api/v1/nlip/spaces/{id}/collaborators/permissions": {
      "put": {
        "summary": "更新协作者权限",
        "deprecated": false,
        "description": "更新指定协作者的权限，只有空间所有者可以执行此操作",
        "tags": [
          "空间"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "",
            "required": true,
            "example": "",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/space.UpdateCollaboratorPermissionsRequest"
              },
              "example": ""
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新协作者权限成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 200,
                      "data": null,
                      "message": "更新协作者权限成功"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "协作者不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 400,
                      "data": null,
                      "message": "请求有误"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "没有权限更新协作者权限",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 403,
                      "data": null,
                      "message": "没有权限更新协作者权限"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/api/v1/nlip/spaces/{id}/invite": {
      "post": {
        "summary": "邀请协作者",
        "deprecated": false,
        "description": "生成邀请链接并可选发送邀请邮件，只有空间所有者可以邀请协作者",
        "tags": [
          "空间"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "",
            "required": true,
            "example": "",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/space.InviteCollaboratorRequest"
              },
              "example": ""
            }
          }
        },
        "responses": {
          "200": {
            "description": "邀请成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "inviteLink": {
                          "type": "string"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "title": "",
                      "description": ""
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 400,
                      "data": null,
                      "message": "请求有误"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "没有权限邀请协作者",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 403,
                      "data": null,
                      "message": "没有权限邀请协作者"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/api/v1/nlip/spaces/{id}/settings": {
      "put": {
        "summary": "更新空间设置",
        "deprecated": false,
        "description": "更新空间设置，普通用户只能更新自己拥有的私有空间，管理员可以更新所有空间",
        "tags": [
          "空间"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "",
            "required": true,
            "example": "",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "maxItems": {
                    "type": "integer",
                    "minimum": 1
                  },
                  "name": {
                    "type": "string",
                    "maxLength": 50,
                    "minLength": 2
                  },
                  "retentionDays": {
                    "type": "integer",
                    "minimum": 1
                  },
                  "visibility": {
                    "type": "string",
                    "enum": [
                      "public",
                      "private"
                    ]
                  }
                }
              },
              "example": ""
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功，返回更新后的空间信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "collaborators": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/space.CollaboratorInfo"
                          },
                          "nullable": true
                        },
                        "collaboratorsMap": {
                          "type": "object",
                          "properties": {},
                          "additionalProperties": {
                            "type": "string"
                          },
                          "nullable": true
                        },
                        "createdAt": {
                          "type": "string"
                        },
                        "id": {
                          "type": "string"
                        },
                        "maxItems": {
                          "type": "integer"
                        },
                        "name": {
                          "type": "string"
                        },
                        "ownerId": {
                          "type": "string"
                        },
                        "retentionDays": {
                          "type": "integer"
                        },
                        "type": {
                          "description": "public 或 private",
                          "type": "string"
                        },
                        "updatedAt": {
                          "type": "string"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "title": "",
                      "description": ""
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 400,
                      "data": null,
                      "message": "请求有误"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "没有权限更新该空间设置",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 403,
                      "data": null,
                      "message": "没有权限更新该空间设置"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/api/v1/nlip/spaces/{id}/stats": {
      "get": {
        "summary": "获取空间统计信息",
        "deprecated": false,
        "description": "获取空间的统计信息，包括剪贴板数量和所有者信息",
        "tags": [
          "空间"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "",
            "required": true,
            "example": "",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取统计信息成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "clipsCount": {
                          "type": "integer"
                        },
                        "ownerUsername": {
                          "type": "string"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "title": "",
                      "description": ""
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/api/v1/nlip/tokens/list": {
      "get": {
        "summary": "获取Token列表",
        "deprecated": false,
        "description": "获取当前用户的所有Token列表",
        "tags": [
          "Token"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "maxItems": {
                          "type": "integer"
                        },
                        "tokens": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/token.Token"
                          },
                          "nullable": true
                        }
                      },
                      "required": [
                        "maxItems",
                        "tokens"
                      ]
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 200,
                      "data": {
                        "maxItems": 10,
                        "tokens": null
                      },
                      "message": "获取token列表成功"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 401,
                      "data": null,
                      "message": "未授权"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/api/v1/nlip/tokens/{id}": {
      "get": {
        "summary": "获取Token",
        "deprecated": false,
        "description": "获取当前用户指定id的Token",
        "tags": [
          "Token"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "要查询的Token ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "token": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "token"
                      ]
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 401,
                      "data": null,
                      "message": "未授权"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 404,
                      "data": null,
                      "message": "记录不存在"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      },
      "delete": {
        "summary": "撤销Token",
        "deprecated": false,
        "description": "撤销指定的Token，使其失效",
        "tags": [
          "Token"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "要撤销的Token ID",
            "required": true,
            "example": "",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "撤销成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 200,
                      "data": null,
                      "message": "删除token成功"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 401,
                      "data": null,
                      "message": "未授权"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "Token不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 404,
                      "data": null,
                      "message": "Token不存在"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/api/v1/nlip/tokens/create": {
      "post": {
        "summary": "创建Token",
        "deprecated": false,
        "description": "为用户创建新的访问Token，可用于API认证",
        "tags": [
          "Token"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/token.CreateTokenRequest"
              },
              "example": ""
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "$ref": "#/components/schemas/token.CreateTokenResponse"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 200,
                      "data": {
                        "token": "8ZoMNeu99VUHxmvDx19kBrrA50Y3iCOvTQp9qumoof8=",
                        "token_info": {
                          "id": "d74326d7-ee8e-4821-9544-100cb0713f7e",
                          "user_id": "",
                          "token": "8ZoM****of8=",
                          "description": "test",
                          "created_at": "2025-02-01T22:41:31.456438838+08:00",
                          "expires_at": "2025-02-02T22:41:31.451073686+08:00",
                          "last_used_at": null
                        }
                      },
                      "message": "创建token成功"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 400,
                      "data": null,
                      "message": "xxx"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 401,
                      "data": null,
                      "message": "未授权"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "达到最大Token数量限制",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 403,
                      "data": null,
                      "message": "达到最大Token数量限制"
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/api/v1/nlip/ws": {
      "get": {
        "summary": "WebSocket连接",
        "deprecated": false,
        "description": "建立WebSocket连接并进行消息通信",
        "tags": [
          "WebSocket"
        ],
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "description": "认证Token",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Switching Protocols",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "缺少Token参数",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "Token验证失败",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "code",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 500,
                      "data": null,
                      "message": "服务器内部错误"
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "Pet": {
        "required": [
          "name",
          "photoUrls",
          "id",
          "category",
          "tags",
          "status"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "minimum": 1,
            "description": "宠物ID编号"
          },
          "category": {
            "$ref": "#/components/schemas/Category",
            "description": "分组"
          },
          "name": {
            "type": "string",
            "description": "名称",
            "examples": [
              "doggie"
            ]
          },
          "photoUrls": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "照片URL"
          },
          "tags": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Tag"
            },
            "description": "标签"
          },
          "status": {
            "type": "string",
            "description": "宠物销售状态",
            "enum": [
              "available",
              "pending",
              "sold"
            ]
          }
        }
      },
      "Category": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "minimum": 1,
            "description": "分组ID编号"
          },
          "name": {
            "type": "string",
            "description": "分组名称"
          }
        },
        "xml": {
          "name": "Category"
        }
      },
      "Tag": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "minimum": 1,
            "description": "标签ID编号"
          },
          "name": {
            "type": "string",
            "description": "标签名称"
          }
        },
        "xml": {
          "name": "Tag"
        }
      },
      "clip.Clip": {
        "type": "object",
        "properties": {
          "clipId": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "contentType": {
            "type": "string"
          },
          "createdAt": {
            "type": "string"
          },
          "creator": {
            "$ref": "#/components/schemas/clip.Creator"
          },
          "filePath": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "spaceId": {
            "type": "string"
          },
          "updatedAt": {
            "type": "string"
          }
        }
      },
      "clip.ClipResponse": {
        "type": "object",
        "properties": {
          "clip": {
            "$ref": "#/components/schemas/clip.Clip"
          }
        }
      },
      "clip.Creator": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "username": {
            "type": "string"
          }
        }
      },
      "clip.ListClipsResponse": {
        "type": "object",
        "properties": {
          "clips": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/clip.Clip"
            },
            "nullable": true
          }
        }
      },
      "clip.UpdateClipRequest": {
        "type": "object",
        "required": [
          "content"
        ],
        "properties": {
          "content": {
            "type": "string"
          }
        }
      },
      "clip.UploadClipRequest": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string"
          },
          "contentType": {
            "type": "string"
          },
          "creator": {
            "type": "string"
          },
          "spaceId": {
            "type": "string"
          }
        }
      },
      "space.AcceptInviteRequest": {
        "type": "object",
        "required": [
          "token"
        ],
        "properties": {
          "token": {
            "type": "string"
          }
        }
      },
      "space.CollaboratorInfo": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "permission": {
            "type": "string"
          },
          "username": {
            "type": "string"
          }
        }
      },
      "space.CreateSpaceRequest": {
        "type": "object",
        "required": [
          "collaborators",
          "maxItems",
          "name",
          "retentionDays"
        ],
        "properties": {
          "collaborators": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/space.CollaboratorInfo"
            },
            "nullable": true
          },
          "maxItems": {
            "type": "integer",
            "minimum": 1
          },
          "name": {
            "type": "string",
            "maxLength": 50,
            "minLength": 2
          },
          "retentionDays": {
            "type": "integer",
            "minimum": 1
          },
          "type": {
            "type": "string",
            "enum": [
              "public",
              "private"
            ]
          }
        }
      },
      "space.InviteCollaboratorRequest": {
        "type": "object",
        "required": [
          "email",
          "permission"
        ],
        "properties": {
          "email": {
            "type": "string"
          },
          "permission": {
            "type": "string",
            "enum": [
              "edit",
              "view"
            ]
          }
        }
      },
      "space.InviteCollaboratorResponse": {
        "type": "object",
        "properties": {
          "inviteLink": {
            "type": "string"
          }
        }
      },
      "space.ListCollaboratorsResponse": {
        "type": "object",
        "properties": {
          "collaborators": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/space.CollaboratorInfo"
            }
          }
        }
      },
      "space.ListSpacesResponse": {
        "type": "object",
        "properties": {
          "spaces": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/space.Space"
            }
          }
        }
      },
      "space.RemoveCollaboratorRequest": {
        "type": "object",
        "required": [
          "collaboratorId"
        ],
        "properties": {
          "collaboratorId": {
            "type": "string"
          }
        }
      },
      "space.Space": {
        "type": "object",
        "properties": {
          "collaborators": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/space.CollaboratorInfo"
            },
            "nullable": true
          },
          "collaboratorsMap": {
            "type": "object",
            "properties": {},
            "additionalProperties": {
              "type": "string"
            },
            "nullable": true
          },
          "createdAt": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "maxItems": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "ownerId": {
            "type": "string"
          },
          "retentionDays": {
            "type": "integer"
          },
          "type": {
            "description": "public 或 private",
            "type": "string"
          },
          "updatedAt": {
            "type": "string"
          }
        }
      },
      "space.SpaceResponse": {
        "type": "object",
        "properties": {
          "space": {
            "$ref": "#/components/schemas/space.Space"
          }
        }
      },
      "space.SpaceStatsResponse": {
        "type": "object",
        "properties": {
          "clipsCount": {
            "type": "integer"
          },
          "ownerUsername": {
            "type": "string"
          }
        }
      },
      "space.UpdateCollaboratorPermissionsRequest": {
        "type": "object",
        "required": [
          "collaboratorId",
          "permission"
        ],
        "properties": {
          "collaboratorId": {
            "type": "string"
          },
          "permission": {
            "type": "string",
            "enum": [
              "edit",
              "view"
            ]
          }
        }
      },
      "space.UpdateSpaceRequest": {
        "type": "object",
        "required": [
          "collaborators"
        ],
        "properties": {
          "collaborators": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/space.CollaboratorInfo"
            }
          },
          "maxItems": {
            "type": "integer"
          },
          "name": {
            "type": "string",
            "maxLength": 50,
            "minLength": 2
          },
          "retentionDays": {
            "type": "integer"
          }
        }
      },
      "space.UpdateSpaceSettingsRequest": {
        "type": "object",
        "properties": {
          "maxItems": {
            "type": "integer",
            "minimum": 1
          },
          "name": {
            "type": "string",
            "maxLength": 50,
            "minLength": 2
          },
          "retentionDays": {
            "type": "integer",
            "minimum": 1
          },
          "visibility": {
            "type": "string",
            "enum": [
              "public",
              "private"
            ]
          }
        }
      },
      "space.ValidateInviteRequest": {
        "type": "object",
        "required": [
          "token"
        ],
        "properties": {
          "token": {
            "type": "string"
          }
        }
      },
      "space.VerifyInviteTokenResponse": {
        "type": "object",
        "properties": {
          "inviterName": {
            "type": "string"
          },
          "isCollaborator": {
            "type": "boolean"
          },
          "permission": {
            "type": "string"
          },
          "spaceId": {
            "type": "string"
          },
          "spaceName": {
            "type": "string"
          }
        }
      },
      "token.CreateTokenRequest": {
        "type": "object",
        "required": [
          "description",
          "expiryDays"
        ],
        "properties": {
          "description": {
            "type": "string",
            "maxLength": 100
          },
          "expiryDays": {
            "type": "integer",
            "maximum": 3650,
            "minimum": 1,
            "nullable": true
          }
        }
      },
      "token.CreateTokenResponse": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string"
          },
          "tokenInfo": {
            "$ref": "#/components/schemas/token.Token"
          }
        }
      },
      "token.ListTokensResponse": {
        "type": "object",
        "properties": {
          "maxItems": {
            "type": "integer"
          },
          "tokens": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/token.Token"
            }
          }
        }
      },
      "token.Token": {
        "type": "object",
        "properties": {
          "createdAt": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "expiresAt": {
            "type": "string",
            "nullable": true
          },
          "id": {
            "type": "string"
          },
          "lastUsedAt": {
            "type": "string",
            "nullable": true
          },
          "token": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          }
        }
      },
      "token.TokenLoginRequest": {
        "type": "object",
        "required": [
          "token",
          "username"
        ],
        "properties": {
          "token": {
            "type": "string"
          },
          "username": {
            "type": "string"
          }
        }
      },
      "token.TokenLoginResponse": {
        "type": "object",
        "properties": {
          "jwtToken": {
            "type": "string"
          },
          "user": {
            "$ref": "#/components/schemas/user.User"
          }
        }
      },
      "user.AuthResponse": {
        "type": "object",
        "properties": {
          "needChangePwd": {
            "type": "boolean"
          },
          "token": {
            "type": "string"
          },
          "user": {
            "$ref": "#/components/schemas/user.User"
          }
        }
      },
      "user.ChangePasswordRequest": {
        "type": "object",
        "required": [
          "newPassword",
          "oldPassword"
        ],
        "properties": {
          "newPassword": {
            "type": "string",
            "maxLength": 50,
            "minLength": 6
          },
          "oldPassword": {
            "type": "string",
            "maxLength": 50,
            "minLength": 6
          }
        }
      },
      "user.GetCurrentUserResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "isAdmin": {
            "type": "boolean"
          },
          "username": {
            "type": "string"
          }
        }
      },
      "user.LoginRequest": {
        "type": "object",
        "required": [
          "password",
          "username"
        ],
        "properties": {
          "password": {
            "type": "string",
            "maxLength": 50,
            "minLength": 6
          },
          "username": {
            "type": "string",
            "maxLength": 50,
            "minLength": 3
          }
        }
      },
      "user.RegisterRequest": {
        "type": "object",
        "required": [
          "password",
          "username"
        ],
        "properties": {
          "password": {
            "type": "string",
            "maxLength": 50,
            "minLength": 6
          },
          "username": {
            "type": "string",
            "maxLength": 50,
            "minLength": 3
          }
        }
      },
      "user.User": {
        "type": "object",
        "properties": {
          "createdAt": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "isAdmin": {
            "type": "boolean"
          },
          "needChangePwd": {
            "type": "boolean"
          },
          "username": {
            "type": "string"
          }
        },
        "required": [
          "createdAt",
          "id",
          "isAdmin",
          "needChangePwd",
          "username"
        ]
      }
    },
    "securitySchemes": {
      "bearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  },
  "servers": []
}